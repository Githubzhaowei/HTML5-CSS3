<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
    </head>
    <body>
        <div>123</div>
        <div>123</div>
        <div>123</div>
        <div>123</div>
        <script>
            (function (global) {
                function jQuery(select) {
                    // 这样的话，会随着$()使用次数的增加，产生无数个相同的css方法
                    // const elements = document.getElementsByTagName(select);
                    // return elements;
                    return new F(select);
                }

                function F(select) {
                    // 把DOM元素放到这个对象中
                    const elements = document.getElementsByTagName(select);

                    // jQuery为了后续操作方便，将这些获取到的DOM元素全部放在对象自己身上，让自己变成
                    // 像数组一样，可以实现for循环遍历，这样的对象较为数组，类似有arguments
                    for (let i = 0; i < elements.length; i++) {
                        var ele = elements[i];
                        this[i] = ele;
                    }
                    this.length = elements.length;
                }

                F.prototype.css = function (name, value) {
                    for (let i = 0; i < this .length; i++) {
                        let eletment = this[i];
                        eletment.style[name] = value;
                    }
                };

                //把DOM操作方案放在原型中，这样看似可以正常访问但是会破坏原生对象结构
                // HTMLCollection.prototype.css = () => {
                //     console.log("css方法");
                // };

                console.log(window == global);
                global.$ = global.jQuery = jQuery;
            })(window);
            //将window对象传入函数内，并用global形参接受

            $("div").css("color", "red");
        </script>
    </body>
</html>
