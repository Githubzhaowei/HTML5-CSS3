<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
    </head>
    <body>
        <script>
            // function f1() {
            //     console.log("你好");
            // }

            // (async function () {
            //     await f1();
            //     console.log("第二步");
            //     await f1();
            //     console.log("第三步");
            // })();

            function q() {
                return new Promise((resolve) => {
                    setTimeout(() => {
                        resolve("你好");
                    }, 1000);
                });
            }

            // (async function () {
            //     let res = await q();
            //     console.log("第一次", res);
            //     res = await q();
            //     console.log("第二次", res);
            //     res = await q();
            //     console.log("第三次", res);
            // })();

            var o1 = {
                say: async () => {
                    console.log("say方法");
                    const res = await q();
                    console.log(res);
                },
                run: async () => {
                    console.log("run方法");
                    const res = await q();
                    console.log(res);
                },
            };

            //想定制执行顺序，等一个方法执行完执行下一个
            (async () => {
                await o1.say();
                await o1.run();
            })();

            function a() {
                return new Promise((resolve, reject) => {
                    setTimeout(() => {
                        reject("你好1");
                    }, 100);
                });
            }

            (async function () {
                try {
                    let res = await a();
                    console.log(res);
                } catch (e) {
                    console.log(e);
                }
            })();

            //await 可以执行异步操作，但必须在async内部
            //如果await中异步操作发生错误，必须使用try...catch来处理
        </script>
    </body>
</html>
