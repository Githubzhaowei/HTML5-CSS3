<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
    </head>
    <body>
        <div id="app"></div>

        <router-link to=""></router-link>
        <script src="../vue.js"></script>
        <script src="./node_modules/vue-router/dist/vue-router.min.js"></script>
        <script>
            // 1、让vue使用VueRouter创建
            Vue.use(VueRouter);

            var Song = {
                template: `<div>我是歌曲组件</div>`,
                created() {
                    console.log(this.$router);
                    console.log(this.$route);
                },
            };

            var Movie = {
                template: `<div>我是电影组件</div>`,
                created() {
                    console.log(this.$router);
                    console.log(this.$route);
                },
            };

            var Home = {
                template: `
                    <div>首页内容
                        <br />
                        <router-link to="/home/song">歌曲</router-link>
                        <router-link to="/home/movie">电影</router-link>
    
                        <router-view></router-view>
                        
                        
                    </div>
                `,
            };

            // 2、创建路由对象
            var router = new VueRouter({
                // 3、配置路由对象
                routes: [
                    {
                        path: "/home",
                        name: "home",
                        component: Home,
                        children: [
                            {
                                path: "song",
                                component: Song,
                            },
                            {
                                path: "movie",
                                component: Movie,
                            },
                        ],
                    },
                ],
            });

            // 抛出两个全局组件 router-link router-view

            // 抛出两个对象 $router $route 挂在到Vue实例化对象

            var App = {
                template: `
                    <div>
                        <!--router-link中to后面的会被渲染成a标签，-->

                        <router-link :to='{name:"home"}'>首页</router-link>


                        <!--路由出口-->
                        <router-view></router-view>
                    </div>
                `,
            };

            // "TypeError: Cannot read property 'matched' of undefined"此错误注意Vue组件中是否挂载router
            new Vue({
                el: "#app",
                router: router,
                template: `<App />`,
                components: {
                    App,
                },
            });
        </script>
    </body>
</html>
