<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
    </head>

    <body>
        <div id="app"></div>
        <script src="../vue.js"></script>
        <script src="./node_modules/vue-router/dist/vue-router.js"></script>
        <script>
            Vue.use(VueRouter);

            var ComDesc = {
                template: `
                    <div>{{msg}}</div>
                `,
                data() {
                    return {
                        msg: "",
                    };
                },
                created() {
                    this.msg = "andorid";
                },
                watch: {
                    $route(to, from) {
                        console.log(to.params.id);
                        console.log(from);
                        this.msg = to.params.id;
                    },
                },
            };

            var TimeLine = {
                template: `
                    <div id="timeline">
                        <router-link :to="{name:'comDesc',params:{id:'andorid'}}">安卓</router-link>
                        <router-link :to="{name:'comDesc',params:{id:'frontend'}}">前端</router-link>

                        <router-view></router-view>
                    </div>
                `,
            };

            var Pins = {
                template: `
                   <div>我是沸点</div>
                `,
            };

            var router = new VueRouter({
                routes: [
                    {
                        path: "/timeline",
                        name: "timeline",
                        component: TimeLine,
                        children: [
                            {
                                path: "/timeline/:id",
                                component: ComDesc,
                                name: "comDesc",
                            },
                        ],
                    },
                    {
                        path: "/pins",
                        component: Pins,
                    },
                ],
            });

            var App = {
                template: `
                    <div>
                        <router-link to="/timeline">首页</router-link>
                        <router-link to="/pins">沸点</router-link>

                        <router-view></router-view>
                    </div>
                `,
            };

            new Vue({
                el: "#app",
                template: `<App />`,
                components: {
                    App,
                },
                router: router,
            });
        </script>
    </body>
</html>
